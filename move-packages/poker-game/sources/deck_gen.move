module poker_game::deck_gen {

    use std::vector::range;
    use aptos_std::bcs_stream;
    use aptos_framework::timestamp::now_seconds;
    use crypto_core::elgamal;
    use crypto_core::shuffle;
    use crypto_core::group;

    friend poker_game::poker_room;

    const INF: u64 = 999999999;

    struct Session has copy, drop, store {
        shuffle: shuffle::Session,
    }

    #[lint::allow_unsafe_randomness]
    public fun new_session(agg_ek: elgamal::EncKey, allowed_contributors: vector<address>): Session {
        let now_secs = now_seconds();
        let zero = group::scalar_from_u64(0);
        let card_reprs = range(0, 52).map(|_| group::rand_element());
        let initial_ciphertexts = card_reprs.map_ref(|repr| elgamal::enc(&agg_ek, &zero, repr));
        let deadlines = range(0, allowed_contributors.length()).map(|i| now_secs + INF * (i + 1));
        let shuffle = shuffle::new_session(
            agg_ek,
            initial_ciphertexts,
            allowed_contributors,
            deadlines,
        );
        Session { shuffle }
    }

    public(friend) fun state_update(session: &mut Session) {
        shuffle::state_update(&mut session.shuffle);
    }

    public fun process_contribution(contributor: &signer, session: &mut Session, contribution: shuffle::VerifiableContribution) {
        shuffle::process_contribution(contributor, &mut session.shuffle, contribution);
    }

    public fun borrow_shuffle_session(session: &Session): &shuffle::Session {
        &session.shuffle
    }

    /// Return the card representations and the shuffled deck.
    public fun result(session: &Session): (vector<group::Element>, vector<elgamal::Ciphertext>) {
        assert!(shuffle::succeeded(&session.shuffle), 192012);
        let reprs = shuffle::input_cloned(&session.shuffle).map(|ciph|{
            let (_, _, c1) = elgamal::unpack_ciphertext(ciph);
            c1
        });
        (reprs, shuffle::result_cloned(&session.shuffle))
    }

    public fun succeeded(session: &Session): bool {
        shuffle::succeeded(&session.shuffle)
    }

    public fun failed(session: &Session): bool {
        shuffle::failed(&session.shuffle)
    }

    public fun culprit(session: &Session): address {
        shuffle::get_culprit(&session.shuffle)
    }

    const XAMPLE: vector<u8> = x"3420aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f201ac989a74038059e5c733f3851a11029df15baae40b858bff2239426e586d8782080b5b40b734dff26f25211c9fd78650234a37e4a56de598fcf291f947148a63d20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f207c39c8ee87423fdf2ea14ae1165bb9cdcbebf98fd5b56e39221f587b66164f4720d4b3c000891e70de56ab85ff59ac89c427c0e1f14d8652e2d5dc0060a5f73a7720aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f205e61a46ba5f99cb64a9f7c57d7aec370c9002bbbe1ccb9f9f2506dc64d504122205056e575dbe310ae3cd780a8550301053c75368f6323e4e8803c02bdb9e26f0520aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2038377cc3a2212b7f9b747c93475e8788470c32f653701cd97d085c5005d3fb5b20b2f81b0af7f350b76e1d625f6cf487e94b2afda98babd4778a3845981a42e21620aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20b8ee5af3ec3887cd624f3f5613f117e949dda0fc9cc1b186d3f9312fd0e5e557207e0ae5024f65acdeb8d680f473355816a2c35c05b4fab621aff77c95ca49bf2020aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f206ce20c914f9ae735e68dd6f7477ff264e7d10ad61f740ae8b33babb679534437205acac8193cf518f6ecc3659b9b2bd6371730720c7c9aa997c78c3b0e10241a2d20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20c2a80dbfd0e3e520a344f92a654a95fbd4b2ba0761296ce3cc54b0f723cf4470208431dcd67fb74ab43c0fa545b5efa3dbfba65e8b7b1cc9a956a646c4b3e9557820aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2074ac6b1dc46f103483ae3629a7ef0ef35a75329edf6c989ff893b51633b9d74b205ea2c84762988a56aef37bf16e6228d2188e91f903798d437772a02353eda41a20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20b6d424b1305f14a8461c369ef2d36add79233adcad88ae54256375bebc356c7f20bc03d04e673f8a92fccdbe1e73a3676f83986b769f973fabf9c31b92288a245d20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20da8616848bd6ddf31a946b60841b2670c8f36ffc47b55c2546bf853d4b2b15132044cdae7bb798ac01844463967dcff3cbb44197295bcbb002093c89044666747a20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20e6e3c56bd85f648f2336e0f60f8d9cef9dbc6063a9ade7d72e1fc719369b70112020eb40b78d049891d190ecda3fa7419f237fb66312386ea729bb727a1e2ab72320aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f200443c550b19d0da5751a49c007659302dffdad107152d81fc12ddc0a6fe7e629200e294e71f5e062cd067b633d1764ee7ace0bc8e2bb50b810b4b13227b8eaf17b20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f206485e97432b9af500ebfe3de2a0b4edc640c8169dd22f7ba5c5c36ca0d8f7e5f20fc932e1b8c03eb12ea228443facebce8a893520378af9d1b756be780d1a2421520aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2026d89742cea73f3f6e91773713b887b7d20062df3bc650389ed4ea3a6bd05b632048058eb269fbd3c47ae5a4eed1684bea2d03453a36fbbd9ad07ec907188ae74d20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20f432df614723acbc52d0c3b13cdbd0cc38b88b268886b7f82ce5e3789a3bc5472098a98af83c3e97f694521b66d44059727f7e3732b1c3c6c28ab2041766d6d07820aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f204e1b11b81eb44dcf0433992b1b3980427eda506060bd36dce833190f9f069028206aef27e6ba417ee4d4a338d66f960310c79ee985106aff44af297fcc77e3452a20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2054ff995388e5041c42b78b7375af8ee4be1be09c7a5b407f08d7a1fa3123560e201235cc9568c6a2bc87a223e9f06aeac18e551d03155f72c9f0b75c7b0937907c20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f206e80dd2c728889da36c3666ce9a7cdfd638f51dea60ac9d977625a7039532773206efd7ab0c05bfe6e2c866ff8b01cb4d3242d7dd506f712e4583137bae2ef367820aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2040cf7ff3bee37dfc6dc9bd07796a3b172b63f0518171986095b0f00c474eb357205e4643758f957875849ee69737e876a3a74ef988e5f090336bc5cc1a5934fe5320aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f206a91be28d0aa8dd8c4f3ffcfc15d6903b18250031e8d7a50c132f139d7f070292090c2ec5828b35dd929a11c39f5a96973bc6a6d8d8de770a2f8117e87261f507f20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f207a6043685c2bd7c3f2b932d6eb26a21b90ab5532592445bc3b3cdf9efb6a304420e02189fe54d47f63f9d2b2433b337b9b022f07ca952ae66d089c899795ec406e20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f203676a6db3fd1a7be3e2723bc1c99fe4fa2fd6c8dec80ae6f2da44c831f5e362120d8df66d2b037b8e230547005b60627aaa2a89a2b26ec986ef27d0144433ca10820aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20380983c7a9656468af4623d7676cf2540bb3ef4aa0610f65673b79df1f384a1020a8dac27766c51dd45b9026873b026759acb1c9e01e8c81daa162a511ce478b2020aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20aac95c88d1cff0c402125a5920ac43b59e087f0b2459bf957ab6b5694188d5492020bc78a43220f4a0c200b19b23b3096290c755adfec75e6f8305f56f05c4b87220aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2092677f0c8bca96f73e5336ad4c524f28bae6272015412a6ebfb4b00cb621163a20404495575e4fa0d4bac1968efdf2792b662d5be2cf61a16aa0ee792bb968ef2020aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f205259ef866312242f7e3e6e8f1659da42dcefe8d252bc43e274301b0e3de5032120369e1d6870914cf608bdbb75db349f93102be08d5c5d426c87fd2e62833a790520aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2040a7e3d85611cef50dcbdc83ab44c9c3a7b3aa6f206f27a8ac4a7026e5af9d6e209e658a39bdd7d0d5f4e63e43245b8d2871f3c226e2ec0c80207ca75a4b63220820aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20426b57b32b6698a2fd3b39e5076145852c59042ba2bf9e35bb8b59860cb59f522086ff80ed1373e1f3af7ad58887799936c614dd518358cd9a257ef2f7c9191f3a20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20bc894f761af07df4f0652a1d52198951c02405c0e50191758b5eface843cf12a2052d075deb44b2a9c9db79dad96d2a581b81ffc4ce4d312821d78aa3b513b834320aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20146614e3884dc28ad94e50d438e3b33ce45f0118a205f0f298137bacc6a58603205460f0fd2be5635bdb85fd0f47d77b3f81ece091abc44ef7b13e92a6aba64a0620aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20ce2de7c13cd7887ad21a430a3071179e6020009c57f422de9c5fea2283a4162e20f4f96a17d8f32534046e41b7d9224b67afd95258ec34419db14fdd0cba3d136720aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20784d52804d738ece66a52b4fc1aeb770e1be326dfb94329f39fb0536e69d2b6f2058257b7aedcc3a8b4e421f50c28856cf4cc4fed483c15686e1cd9f0a16dfa71720aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f205eb99acbd3ba442994e66d9351381bb0b1ef9f29f3112d11cc297b816b19484c20d444181da41c3297c1a04c286cf8e2e08473802f8606a27dafc4ee50a9e8304520aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20e219b2672574447316f5f5dd3b54e019c4bc6b91579617bc1552d13331704b2520c4b943be67cb42324255bef7d663ae4c2d57f93d07fbef3632c464554c613a0120aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2076bc6d7ae55ff19cb2f79579c748a3416aace571041e07e17a51aa764e80b7702088b2817ecc676397ee9f57f6b6b70e92724080d340a7b21b23ff80c74ad8ae7820aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20b274d9b912d29051031b14c0de6079010cc3a23c98dd4fbf83075ba76bd0c12c20e08d569638d68c3ea7861cb4296f247f08c1f7921a1a9e06e552fc443365e12320aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2056b45605ca78e7926bfdbd337abbb5ec96f884d8d7a9c6fb8d4778789da14802209e6b2ced462e67803a83d9b4e73414c30bfc987b18ecec990250ddb3963efb5d20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20b2da4e77a3990c7bc042a25d94e2448f7b5b327e8933f4422446d85fa8efda1b20d60140fe2476dab3e992013b9eb44bd28206c19b259b56c5e955c1c28a95d95620aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20f6f6721f77b41d6fb106d286f32f469be4e398fa3900fc8e0974daa4cf0e504820b63048fdd291f44baeb193a5696a335b6b09c92c847f952009aabb7333b3101320aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f208297aece32057d203ad7ab899dc7d0a53c5c8b637decc9cbdcc6152d213eaf332024f75f4a6968f4291b6b22e576d1de0b82b4ea6af69295bd4310ff606226624120aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2012983d69ecaa37d6f60d7b20453c0ac4e9d27ec5ce8ddde0b165824ef2a3187a20caf3576588b2d85907f71d1579eaa258ab87ad74768cdbf104a2d095f1cc2d0920aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20345f4de2be154a810a4f89062c148055062b8eeb9c6d0fa81dcf178f0876ef68205625cbb3bddce2272359c79137991f5f966e45f26ef3f4ce0b7b826ad334cd4120aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20c05e6f4ff7c44fdf6abc872415a27af5ba00e1ceb400f459c8467219500bb14420783bae3841401766ca888c40067e77a42f6e7cb081f894bd4518b3c6ade0311f20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20aca53b05e1409afffabca21f802a74d22aa56fe63d36a858e912ff15ab25f73520c8d3db1f961722ac6d94abfbd01f4b5540e4a64279adfa89721f5de865f73b7320aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f202cc4c3f512aed2731b15c5c552a848404200c886c4953dab05dbe9eef58ba91920e2247ddb41d4397c9c620d7524cc210d0ff0ad1e6f8b3a3953359da051934d4120aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2012e5224836373d50ea86f48e4187c3b6b15c41a6b632e96914bbd4e08d76a62e204484f49a7b9ec02a3b7533106c993b774e6f949b6a211c3fd56e25a0db17b82020aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f208a4552d88971bc1bade3bb75d8d7da140509729078c88e4b83e203a748c951372004f01f5919be6d38f51cb9827b2fddbbc0fdae1be3ee3232371570fc646bfc2720aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2032c7f4a89c84cc71bdc55ee4b1b4d10a9e47156a4e722aec42eef748e942f164203a24fa09136a56e15898923c09215352d264e1f4689ad3a5833b6b7371a6a41a20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f203affa7b40e37d1b61f66e08dfa77485ec089f37b5f043c3c42e9fad679adf72020dcb61560c7bd79c19952755fa6ba08ccff74a904bb3dc320bcd382690f1d0c7020aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2018243a70415671bdadcc5938d06b9fd3e17112dcd40a44c765577ba4bd4fe60620762c9982009ddb65b45e548f789028455764efa2c9bd17ce0cefaf482f59427320aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2016faffa53b42335352f0ddff93e99ec21844829965cd5535030aa455c07be6512040b4f4aaf5ad40b61410f1a1c93f37d0e361e1830afe2a76324d831c3603101f20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f2074a0028e33b3798aeb85e75ae2297ea92d21bf2de5e97ef7b59558b0f706e31a20c68fc2934ebc3db80a281efcec0efcb045b31fb74a3f996b627f43302510b4580120585e448e8f92c87c9b4571faa263cd2921f3d878ea87300e3a17ea760b2554612078dc72526ea7ddd1ebc192c1bf33e050138a9c6d248b943f363c598bf6fdd30f2098879ae9865b9cb72e41ae9d5168a9f308ed60c47fd124e101d99cf6b24d0f2720f88c24042ceee3bedbfdb93ae962bfc44755b42d9f36bf773f5e65088902373b20000000000000000000000000000000000000000000000000000000000000000020aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20485d684601f503090a56194290bc15983a66230fff0777d1d710a18324ccdf6820a66c34e0475d8b6dc3f30b9190da67660b475613d9c73640ca70745d1d00820c20aedc6330fe883891565826f1db377ae0cbaedab49e855d4901a88ca2e339f65f20000000000000000000000000000000000000000000000000000000000000000020203d1c222176f5aeb50a1b8d18acc9ccc761b0c27b2cf340295ffbc971246f693420920428f013145354f45e98f6d4535f533d9c675aeed190db8ddea1c602617208200fd91fe4fd294709cf2df9da9581be46168892b997b40981bc8cfc7076e0af0e20741318141e9846aa0f194512f0a3eab06262fd9aaef91e4dce3993c96cbf6308207e9a392864259c845ab3daca882a7953545ab4bb04794168784625c70db5210a20047a36f1e65df31b002cc6cc717967087bd61817f8d931f3579f0dc678c42f0a204091dc9a6e538c2d0645946990fbdd7dd15273c7f99be3ac54932fea5b46bb0f205472a24264a91753bfe3e38d839146a62e109b75ed3b721c19d57b5a901b7b0c205917edf9c6a4110747b02aee009cd4c4547c0e3eccbf53bc258a39b690d55706202d92e6c667ebe2ad151c37578caf2dc2baf2bbcd413b800acab548586f800f0c202675a3c28254bb617880e83f62132d361d1927c6d57b7d7aad59d4d0085401032052a0c76a2b58356a1a55fdedf78d5ec236249edd83d81eab51a1b05d3f00ac0e2055f0a420a1e9dfa8d795f51856dbd48886ddf57f3e407e98d1be89c49e7fd40e2038afb1f0964aecf83845f91f19a6f36009d239fa5520ac6eb702ce53f6e9720f206fd8fb06afde1159be5777a9a3c40f6812da5bc55170ee74e574a84ec9a95d06204f18d94daf354c0e2e962fa7fff434ccb385d1cd37dac8a8b3eb92042bb6520f205b5f60775a34cab28ee7d76c83b104d460f4089f1c89cdc32383ba19723e360620e470c061c155568cd45b9dbba036b19b1af014ebfac0fad63348988e7a32aa02209e29e254c8ac516514dfc19d2a9ea4c4cbbabcff85dc9941f6d9f7fdf5352a00201ef5dc5f0359baf38b97246e40f8813d73a6c33a186e58c586b8f5475016160a204b986c05bcf0e85922b3cf4c915012bfb0cc806817ba5181886acbad5945ee0c20221a16a65f9adbda774c1ef0f83fe57304921c261ef021399e3920568f4c4d012074178aaeb3efb898b276b198e4a4e77f24f5be83ec906290b525243f19e28b0720e7d79c7b50d19ba1cfe5c4714dd1117bc5f58c0dc6ff2d57e4db37f8a102bb0e2071cfdbd770079e6a29faca69709247a6c050f70d0a9608aecca76b474641420c20ee45560b4bb4e0adbb3260bc2fcd2d5614b13efad795859b5a8ec92889300902209d6d70305d384c47b225d5e675b3a0c0660016e157d2f876c65373fd0f32dd0d20775cc7b99bdc6044eb5ab666fc1e1529f84fd4b7307c5a5bd41ea52022c5a00320bb9afbc3684b7637208a59344f581f25cf689aec781109ae8b0fd4cf2a60180320472cebc99b1e3948ea9a4c37ebdbf606f604957d7b0fa49b08981f633caeef0920e2d5cdd90fd72512b7e6aae3b5cb30fb79a87308ec3c04a9c9423204b262270820655a32eb42d8a553ebf6453d8e75d328dd6b63de649096753512a6768769ef0620db7cf5d872720bd36de435ab68ac84110fe5c2f8259b3e1f11bba53fbe9b700720c1834b1de7545917d35d6b058a8d6a54b6a5a7a93b66e40a05df7e138ab2ce0e20285ccfdef87a7f5b82fb6fda6494a335a5b2d08d14c9a51a8ef7225bd026910120d75c231d5e8f15229e023c44117a26ab998a55783b99f04d200e15177b02e10220ab24a53792618f0df7cd4b57d2e0aa5e6dba41c2f542d36298bd8251cd214b0e206b5b6a33681aefde5aeb8d3a28184777ce827fb20c10d95840e2d62fca5db70c205d7cd276aa7c2e1d6f48e89b7f0d4552b33f87c1e72261c1d8cb8cf2beeeb1082045e76a7afa63a4a9d9182533d4f82ef2f4f82d151ece0e491e36cac78e74ef07205b04d3d26314f863dd4c0aa3acfef9087d623dcc32dcb72633bcb2879fe8f40520bd3b88bf60d8157ae5dd9fd26fc5ab095c2f767494a391e8589c960ca39f8706207ae273f4e0625223251cb0ae9a2cc2831c0049c153c03f3b870045e35d7a330f2067885ab9b8fbf659128683f3c9206b24b52da852900fb3118e0db0da77ccf70f20e345b3ff9b4c454caea5bf2357155c915d7234419d8388821b9921f6e53b62072076b98983e41bbb96e036e92db904feecf0634a77fe19e31dbdf8237d39a5be0320bdd7bfcb33b41dfffa553cc3c3e84dd6afdcfc9267e93297db1209e3df8a100f206cdf2e1a04da3974ac482787042a0579fb209df55fff88912ed83be514d2d30420606992ed20abef75bd01887986fabb414baf2852c33ee4231a37dafe787eab0a20d7b2dbaa8d0167d57591a7345c9dc983436c49346dc655e7e67734e909e16802209a1b836719964c05e2bcb35fd9ce1f774d0b3b9f63cc1e2ae3b89cdb896216002042c53d1b26b103af4f8e805acbb7f7e25622e0d89538110321fdcc40bf675009207377b883a486bf6b082f78a058ea4eb3ab92c39a40a113ff391eaad8e491330920109f3f87ad4a0bb7ecb5d393c0755d30e9cc606718b569cf6111259d91b897092055d21a80038f93b01e43942773c8a50e99db6cf14298da2a032efc5c8e8b690d200bbb1dc9e30d79d88732b3a58c2c6ea16162e9c2ece1937d4e183d25e6bf9f0b205be0bbc38f897e91e071c37320b63ecda6ac790c664e04ef11291194fe443b0b209022f87b1a228850f44396149de9c078343bb7566e24283d9def137f21ac6b7d207ab6ee4607f9e4da0d54ae8812748721af8eeb614cc8d2fbe1d4956c4acccd71208efaf7504158d7c26205daea0b0651aa460c591930ee7de08624fdec48c7394334208bd9e161ce3f2583d4a6d68131f886341a21c3be2a272bf3e212bc1cd1f1ed0920811b2f734d465c4f8b68d95841171bdb64953a86c62c26581aab38acb2f1d20020aa783dfd275c3e3d85275a1a9d69b8111937a9eff597c2fcc26c10cdaeb4bc0f20e97eaa682ed8737ba238f4eb63580b28d1f96b56c939a9e1aa3c29eaaf6c6b092057f2f26dd74869572aa4f2ac5c2ece025d2f853b338c9fbe10e86221cef17a072015e53f97444c93d90c42f009621a7749996a75f6cbd62dbee18aa30f6cb314042091556f1864b4cd98b3391b52edd14e1229a754af7b6a5b3c5a02b1fd7951700520832e8917f32d75bab2599f8065b87f435bb88ee85401f68bf0dc596e2ba3070820772470d69d42db3f05c183a58c94294be81a14532f02a9d535e7bcb159b4280720d5ffbbd7cc37a6b9294deb87400a93b1a9b4965f358b8e51f814104b3bf0f30e2025f81b6bd2f359a793aa7cd04aa0e79f65864209feee78e1a2dccc54db52d40120f193c9a6ded8d423ba73cb3db5c6b6698d9b6472a9b92429c13e54b4ed7feb0f20ba3a821f32f14d2f10f5bbe61c92e91f34d2cc587f91fde41ca4641ad8151503204b9ec6e400e8bd80c3f1f5f20b42c5f92cf073d2e0ce33699aba808aedbf2c0820986d74ef8c599d96f6a8b251e3a667a46545677c698da6f9d1a1490d802ee309209fe8cfea44ad63af378d35045c6c02a0dc5edd37a9430f7f9ddbfbfd0de9480f207a61807f64eb6b05313237bc95cbd6494393c00b7fc7674a88a04d95f275790620169d5c00fc22f347a93f2cd263f8ee9e02c8365b84710682c0d8c924815ab1052060076cfb7de60775992834a66a44bbd9516d713164daf28425881a25edf9270d2006b4e3e5af77e0b0cd288e778cd2b7f75fe22e6b00762fdaf0548c8b11e5370d2015e3d38ff7a356601e539d6f9178c102c9f790f7cc5bbf0720ba0f8f4d43890e20be8be6948f1ecc291c7dfff041a819c09e25601c8962d9f1402469a8a3d13601207c4f7dc1dca38a9f88072f48935807c1cb68b353866feedd82e18fa3d8581003202829153d462060cf6d7cd3bc1581aee039493cdd9c6addd2d8b3e1832f98530720166e91c5c2a4efd67383c78761a35c0e1816f2d71896172d5d75ecf2d5608f01204f53eec646e5c343e0209398e1290b8a2a3351efbecf72587fd98ed136ee540220294153ee9c643d30dba503f00f94e378ccb65e2808ce7173ad4f0d4850d1870c20166f1643880b882483368fface18a5ffdfb3d094317644125ee64a398d585a0820530b3ad5fd411703c19fbd02dfcceb9dda9841382a93b76b58e87d200ab3360d204ac1e4e21c4f295fd60b3f3838ce970ac39077b27df664b68c04f07e82fb5105203757b420352309bfda707ee1d7bcffaa11ccdc186b0f8fc7c7c9121a1cb5a70220304e02e582e5af8cfdbc4f6199e9b18cdf62167d56988782c7d6e93b04e6a0052049723d8e2846109b4c57f2002187453eb787f68353961d6f8064511b0081c00b20048df5cd86db3f1df8b4d9af07cb35d7e9afb2febbe0005f52064a0d38029b0820d8989a50026d2c5b322fdbd11e136742e480b286d286f9f4c847f8aad19b8401207f428fc6120ecdf2d74e60834f93a6f3ce94e2eff78a3e5bdd401efa9119620720545bb8a94a3bd295e509d8d32475be1c9bf020ffdb834180a4982d8644cbee08208cd89d505519d4b13da419441fe8e42c2beffdc36cc3aeae8b761f9d07f3d40820bc96a4881115aed851b678e8fc1c78a35f431b2d3c4a606f389551fb6f6df308203c0b5397056c0718b35641ce68584057437758b9bb35885bf8d8056ebfb72e0b2094375b1c00632db8ac76de066697ee7254a91222c724ab8798641a8ce0223900200d96e389d369d3c12dd91a545ee5e60a9748fbe6eea5827ae668a8b4adf2220420dd9416fb8fb80a64311127c1485fe5cd2bc034986358de3e22be72186d90820320397dc5555af4fe585800bea2c00cc18cdf9adcb2c630c151f1fa35d15b1b3f0620f0d96ea8ca680bbf6f480c2f2c1507e5e66a57182865d2c869537cc696fa530e20508288b078e4beb06178b55b67a7658e2850cf058105c35e857d98424e89650220246a9475376cda9555b7382a7c804efdca29a18d6482a7bb286574d476be9c0f208a498a543883f376653bb8b554ce29c81d09ad19ed6080774dd3a1adc60fd702207b7aa9d409ec8b3313762d9792584814a44f0747ceea2bb2009d45cd3bc7340c207ca871eae1f435f77c008c509e0e377749b9bb5fd5d5f85662f5b9c5b855300720dff374dc2ca556a1266631412d38d00fdfd2fcca375a39d48cc90c7f5615790620a30fb7637747ec35b5026ace34716e05da3e05f4d0a18def7f2f89ba807f870634208bd9e161ce3f2583d4a6d68131f886341a21c3be2a272bf3e212bc1cd1f1ed0920edbd3494adfdaeb047f616b0737fe69b5682e0238dd0d683e67d6edc0378580b20e81cd3ea6ae50650ca4d09eaf7fc51f61ba21a40b50d129a91eed0ada38f300a2056bd7ef8fc8521017aa61076a11c76d29e37c3bc2c48ecf3f65d79160c6e830820afaa1830ef51733ed7e9e0c12ea514a05d9a46d4d803c78f58f06b5250c31a0a2083b44c5853e4f620521d2194445dae35fbeb92195bc5acf23349aff7d0b2090220e5adc71d4f7b10e911d415f114f215c44449c3d1826e9a95d6b50747d27b640c20146f7cf03a065d8aca55caf26ef41f3f4888bbfd95b387f7f0090814ce5a6b0620f33fb06a9a36c49ebb7ad14546b3cb62b1ba3b5248c123ec6aa9b6dee6b3f60120f46dadc2a7138d694018a3934077cbd382bae9678bba462df686650ff0260c0320c2902a2f0666632670aea87ea040cafdf2987a7f7f4be68ba491e6bfcca50c06206380adfe961d0dfff567f60a1ac39c2de9c3d51760a751cb6db54c2ad8c9720220f509868d6bd9f6d4f3a6168ecf10de6b47ffbc523b0cd6781e2558557c9f81032029d0fa5ed29d93eb4bf2fd131e4e46f28ebb95ae74bd2e7bfea2ea34c4ea4d0f20913abb118e360d52856f6ce442ba8be8e42c0bac5f48ce7c46ea144409558f03209d35b32faa3fe8990a95a7dc07fcc76501e8298c71f538e591883c913f2b77052049f09ca522434e0084176b878f9fb4ec54eb8057e1378d1c778bdff81c60a4052073cae896f5f27dd5a9b2c709e7b42149c4af1c96e96f8b795e7f5385aecd960e20869a3b87a953789c3f5cc37c8da7dd6d58301493d8e4ca1b50ee9f8b0f052608206253e14f88e595f208c96836d827c351e94a8c5ae7cd8eb6f6c4325d2020e50020e853bdfa6876212e594982fc77608a1c0ade8ea23228797fd75273ec3e92a40c20f9f0d23436592df7dd7cf2125d722fc617be2cbf3cb43e8de2a99b696b64420e2002b7fa67a91167e28636f14d1d04f4f9eef12c99ed2b688fd0fa1c1228f7390e20a656c2d6c6116ad31cefd76f7331f76e2cf4b23b9d6283f4484a4ee76bfae20120edcf50004da175bf604c4b3f7e4fef4d37573bebaf11e6dd259c5fe07c15fd0f20d1037577b0c9ac285f9860babec2b0c2faf2eab2fd817e7d566a81b86f869700202edded60ec0271f9c3af805e383f7502991b50ed378cc4d26928e452b95e3b04203517b6cde945842b5daaf100f83ba1c448f189b9a673c876d6ebbb887460410e2040d0062cd3d242512254ebdcfdd9ae1a6f09d7935e94c5746c94f98394ca8d05205dc53f0eebcc94ecf325a648d7713ec3dc3894cca6e6fa044b3a08a816d91300201c97d8b3be80c51a307b0fba543f382110fd9ad0ba68aed9d554b7cc7866240720c1fb63c7c2dc4a9fdb3420acd271fffffd678bfa167eb9a97cb739aa9369c60820ea48cec59ed9abda2ac098e1c80775edfa841ec08b74ec2fbeb136deb9a0d70d20cde7929af42c9c1b1f5dfe1a526c30cc92fa324bb9d10c658e9170a59f367e0d207ff58f47c63915e8333d4eb57016682f35cb41b3bfd169fe9a0131b1ce33750c2059364f5ad36edcd5345f52f4374e4d90ef33f8ec5ac6e27d138f4f26a921350b20e096a51c508991318a8c48436b85fbe2506b6b4926bc18643e377b975dd34b0920996a3f0fc22a723214bed65b2eaa21a69f09ee9fa9cfb5b897948fc62c442703205be4b3e627fa9d286da0c2040d093a5bfb3a53ecc9ea617fb3c0ca29b46ee00420d90cf0a790c3697ed6a9508d4152189a0a98e29a596bf3296c3961c3ad622e0320870d6f88be3c995219638e864f0a908bef9fcf7fdc46681cc4d7607df795b40520d2b6e57a8140d9b58245ae0bf71bf57b9281daec29877b41c170ca241fde570d201fb8eeb579a4fbabedc88d03ac44599c867d0721de5ac82f40af13df0b4760042009243311e80c57dcb618da32672a002b00f92fd0c4bcefd340bc84b014bec40d202d3f4355b402ba5373e569988f554a525f5fee58da11dde0c9ac479711d49a0820b90edb8d840b8a17b59bfe9b820b319efaa1ee266248b593a423ebadc1554f092020678638b61ec3199a1d4330b1e81acd79d8af0b3861a1a6041afd09b64959092037650c570ceee4857a5ded6902c51b7adf2089a62aa14f1a7967633cc9d8e30f20986619c566c67df1bb165fec8499738f1333c81ec415912e91e8de13ad92be00201c038aa11822342467669af4f80ce06c9a31a64bc629b3fdeda9ece538540e072051dd94f1b9d74621d80a403b42298650b1100b1eaa31fb04496ff81603f27d0c20b73b12fbca333c8d932c62849b61c9b63f0146b9a9d5ba621abfa990da784e0c20f189195e7cac6b58b98ea2fb9c5ea8fb224680a5e061dc1fb38e1066a13da10f20cdccb4f8ceb94a5d206dc46e75aac70620861d0f47aa4de5493129b5b33a4602";
    entry fun example_deser(breakpoint: u64) {
        if (breakpoint == 0) return;
        let stream = bcs_stream::new(XAMPLE);
        shuffle::decode_contribution(&mut stream);
        if (breakpoint == 1) return;
    }
}